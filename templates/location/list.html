{% extends "base.html" %}
{% load static %}
{% block head %}
<link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.43/css/bootstrap-datetimepicker.min.css">
{% endblock %}
{% block content %}
<form action="" method="get" id="filter-form">
    {% for field in filter.form %}
    <div class="form-group">
    {% if field.name = "created" %}
        <div class="input-append date" id="datetimepicker1">
            <label for="id_created_0">Start Date </label>
            <input data-format="yyyy-MM-dd hh:mm" id="id_created_0" name="created_0"type="text"></input>
            <span class="add-on">
                <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
            </span>
        </div>
        <div class="input-append date" id="datetimepicker2">
            <label for="id_created_1">End Date </label>
            <input data-format="yyyy-MM-dd hh:mm" id="id_created_1" name="created_1" type="text"></input>
            <span class="add-on">
                <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
            </span>
        </div>
    {% else %}
    <label for="id_{{ field.name }}">{{ field.label|capfirst }}</label>
    {{ field }}
    {% endif %}
    </div>
    {% endfor %}
    <input type="submit" class="btn btn-success"/>
</form>
    
{% if filtered %}
<h3>Total: {{filter.count}} posts</h3>
{% for obj in filter %}
    {{forloop.counter}}. <img src="{{obj.weibo_thumb_img}}" alt="{{item.post.id}}">
{% endfor %}
{% endif %}

{% endblock %}

{% block js %}
<script src="{% static 'js/bootstrap-datetimepicker.min.js' %}"></script>
<script type="text/javascript">
$('#datetimepicker1').datetimepicker();
$('#datetimepicker2').datetimepicker();
</script>
{% endblock %}